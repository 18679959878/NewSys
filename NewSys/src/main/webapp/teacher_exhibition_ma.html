<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>软件动漫学院准毕业生毕业设计与实习管理系统</title>
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/jquery.wysiwyg.old-school.css">

<!-- jQuery AND jQueryUI -->
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery-ui.min.js"></script>
<script type="text/javascript" src="js/min.js"></script>
<!--<script type="text/javascript" src="js/index.js"></script>-->
<script type="text/javascript" src="js/main.js"></script>
<script type="text/javascript" src="js/url.js"></script>
<link rel="stylesheet" href="css/style2.css">
<script>"undefined"==typeof CODE_LIVE&&(!function(e){var t={nonSecure:"54645",secure:"54650"},c={nonSecure:"http://",secure:"https://"},r={nonSecure:"127.0.0.1",secure:"gapdebug.local.genuitec.com"},n="https:"===window.location.protocol?"secure":"nonSecure";script=e.createElement("script"),script.type="text/javascript",script.async=!0,script.src=c[n]+r[n]+":"+t[n]+"/codelive-assets/bundle.js",e.getElementsByTagName("head")[0].appendChild(script)}(document),CODE_LIVE=!0);</script></head>
<body data-genuitec-lp-enabled="false" data-genuitec-file-id="wc1-89" data-genuitec-path="/NewSys Maven Webapp/src/main/webapp/teacher_exhibition_ma.html">

	<!--     内容      -->
	<div id="content" class="white" data-genuitec-lp-enabled="false" data-genuitec-file-id="wc1-89" data-genuitec-path="/NewSys Maven Webapp/src/main/webapp/teacher_exhibition_ma.html">
		<h1>
			<img src="images/posts.png" alt="">毕业设计过程管理
		</h1>

		<!--操作栏-->
		<div class="bloc">
			<div class="title">
				操作 <a class="toggle"></a>
			</div>
			<div class="content dashboard">
				<div class="center" style="display: block; width: auto;">
					<a href="teacher_implementation_stu.html" class="shortcut"
						id="back"> <img src="images/callback.png" alt="" width="48"
						height="48"> 返回上一页
					</a> <a href="teacher_implementation_ma.html" id="refurbish"
						class="shortcut"> <img src="images/refurbish.png" alt=""
						width="48" height="48"> 刷新页面
					</a>
					<div class="cb"></div>
				</div>
			</div>
		</div>


		<div class="bloc">
			<div class="title">
				班级列表 <a
					href="http://www.grafikart.fr/demo/coreadmin/index.php?p=table#"
					class="toggle"></a>
			</div>
			<div class="content">
				<table>
					<thead>
						<tr>
							<th>学生</th>
							<th>学号</th>
							<th>阶段</th>
							<th>得分</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td name="stuName"></td>
							<td name="stuId"></td>
							<td name="stageName">最终作品（布展）打分</td>
							<td name="score"></td>
						</tr>
						<tr>
							<td name="stuName"></td>
							<td name="stuId"></td>
							<td name="stageName">最终作品（布展）打分</td>
							<td name="score"></td>
						</tr>
						<tr>
							<td name="stuName"></td>
							<td name="stuId"></td>
							<td name="stageName">最终作品（布展）打分</td>
							<td name="score"></td>
						</tr>
						<tr>
							<td name="stuName"></td>
							<td name="stuId"></td>
							<td name="stageName">最终作品（布展）打分</td>
							<td name="score"></td>
						</tr>
						<tr>
							<td name="stuName"></td>
							<td name="stuId"></td>
							<td name="stageName">最终作品（布展）打分</td>
							<td name="score"></td>
						</tr>
						<tr>
							<td name="stuName"></td>
							<td name="stuId"></td>
							<td name="stageName">最终作品（布展）打分</td>
							<td name="score"></td>
						</tr>
						<tr>
							<td name="stuName"></td>
							<td name="stuId"></td>
							<td name="stageName">最终作品（布展）打分</td>
							<td name="score"></td>
						</tr>
						<tr>
							<td name="stuName"></td>
							<td name="stuId"></td>
							<td name="stageName">最终作品（布展）打分</td>
							<td name="score"></td>
						</tr>
						<tr>
							<td name="stuName"></td>
							<td name="stuId"></td>
							<td name="stageName">最终作品（布展）打分</td>
							<td name="score"></td>
						</tr>
						<tr>
							<td name="stuName"></td>
							<td name="stuId"></td>
							<td name="stageName">最终作品（布展）打分</td>
							<td name="score"></td>
						</tr>
					</tbody>
				</table>
				<div class="pagination" id="page">
					<a href="javascript:void(0);" onclick="lastPage()" class="prev">«</a>
					<a href="javascript:void(0);" onclick="nowPage(this.id)"
						id="start1" class="current">1</a> <a
						href="http://www.grafikart.fr/demo/coreadmin/index.php?p=table#"
						class="next">»</a>
				</div>
			</div>
		</div>
	</div>
	<br>
	<div id="ui-datepicker-div"
		class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>
</body>
<script type="text/javascript">
	document.getElementById("refurbish").href = "teacher_implementation_ma.html?stageName=" + getQueryString("stageName");
	document.getElementById("back").href = "teacher_implementation_stu.html"
	/**
	 * 
	 */
	var maxPage = 0;
	var nowPage = 1;
	function createData(nowPage) {
		nowPage = nowPage;
		$.ajax({
			url : '/NewSys/teacher/ft/stage/page',
			type : 'GET', //GET
			timeout : 5000, //超时时间
			data : "queryPage=" + nowPage + "&stageName=" + getQueryString("stageName"),
			dataType : 'json', //返回的数据格式：json/xml/html/script/jsonp/text
			success : function(data) {
				if (data.success == true) {
					var data2 = data.data;
					maxPage = data2.maxPage;
					var pageList = data2.pageList;
					var stuNameNodes = document.getElementsByName("stuName");
					var stuIdNodes = document.getElementsByName("stuId");
					var stageNameNodes = document.getElementsByName("stageName");
					var stateNodes = document.getElementsByName("state");
					var scoreNodes = document.getElementsByName("score");
					var seeUrlNodes = document.getElementsByName("seeUrl");
					//var nowStageNodes = document.getElementsByName("nowStage");
					//var compStageNodes = document.getElementsByName("compStage");
					for (var i = 0; i < 10; i++) {
						if (i < pageList.length) {
							stuNameNodes[i].innerHTML = pageList[i].stuName;
							stuIdNodes[i].innerHTML = pageList[i].stuId;
							stageNameNodes[i].innerHTML = pageList[i].deStageName;
							stateNodes[i].innerHTML = pageList[i].deStageState;
							scoreNodes[i].innerHTML = pageList[i].deScore;
							seeUrlNodes[i].href = "teacher_implementation.html?stuId=" + pageList[i].stuId + "&stageName=" + pageList[i].deStageName + "&nowPage=" + nowPage;
						//nowStageNodes[i].innerHTML = pageList[i].nowStage;
						//compStageNodes[i].innerHTML = pageList[i].compStage;
						} else {
							stuNameNodes[i].innerHTML = "";
							stuIdNodes[i].innerHTML = "";
							stageNameNodes[i].innerHTML = "";
							stateNodes[i].innerHTML = "";
							scoreNodes[i].innerHTML = "";
							seeUrlNodes[i].href = "";
						//nowStageNodes[i].innerHTML = pageList[i].nowStage;
						}
					}
					var html = "<a href='javascript:void(0);' onclick='lastPage()' class='prev'>«</a>";
					for (var i = 1; i <= maxPage; i++) {
						html += "<a href='javascript:void(0);' onclick='createData(" + i + ")' id='" + i + "'>" + i + "</a>";
					}
					html += "<a href='javascript:void(0);' onclick='nextPage()' class='next'>»</a>";
					document.getElementById("page").innerHTML = html;
					document.getElementById(nowPage).className = "current";
				}
			}
		})
	}

	function lastPage() {
		if (nowPage <= 1) {
			alert("没有上一页");
		} else {
			nowPage--;
			createData(nowPage);
		}
	}
	function nextPage() {
		if (nowPage == maxPage) {
			alert("没有下一页");
		} else {
			nowPage++;
			createData(nowPage);
		}
	}

	createData(nowPage);
</script>
<br>
</html>
